<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"
    />

    <title>Testing javascript applications</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.min.css"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/theme/white.css"
      id="theme"
    />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/zenburn.min.css"
    />

    <link rel="stylesheet" href="./fontawesome-6.2.0/css/all.min.css" />
    <link rel="stylesheet" href="./style.css" />

    <script src="print.js"></script>
  </head>

  <body>
    <div class="reveal">
      <div class="slides">
        <section>
          <section data-background="#333333">
            <h2>Web</h2>
            <h1>Testing JavaScript Applications</h1>

            <aside class="notes">
              Slides by Bertil Chapuis, Olivier Lemer, Olivier Tischhauser &
              Vincent Guidoux
            </aside>
          </section>
          <section data-markdown>
            <textarea data-template>
                            ## <i class="fas fa-tasks"></i> Overview of Today's Class
                            - Course evaluation
                            - Online quiz about last week's lecture
                            - Testing Javascript Applications
                              - Unit tests
                              - Integration tests
                              - System tests
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.6em">
            <textarea data-template>
                    ## <i class="fa-solid fa-graduation-cap"></i> Educational Objectives
                    On completion of this part, students will be able to:

                    - Describe the pros and cons of different types of tests
                    - Write unit tests for a JavaScript application
                    - Read and understand unit tests
                    

                </textarea
            >
          </section>
          <section data-markdown>
            <textarea data-template>
                            ```js
                            z = 1;

                            function x() {
                            y = 1;
                            var z = 2;
                            }

                            x();

                            console.log(y); // 1
                            console.log(z); // 1
                            ```
              </textarea
            >
          </section>
          <section data-markdown>
            <textarea data-template>
                            ```js
                            function x() {
                                y = 1;
                                z = 2;
                            }

                            x();

                            console.log(y); // 1
                            console.log(z); // 2, car z est une variable globale
                        ```
                            </textarea
            >
          </section>
        </section>

        <section>
          <section data-background="#333333">
            <h2>Course evaluation</h2>
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 

                - On passe trop vite sur la théorie
                - C'est un détail, mais parfois le prof regarde un peu trop le beamer dans ses
                explications.
                - La manière dont est donnée le cours
                - Le cours semble avoir été pensé pour des personnes ayant déjà de l'expérience
                en développement web (suite après)
                - laisser plus de temps en classe pour faire les exercices proposés qui sont
                vraiment bien.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                > Je connaissais déjà mais pour les autres je pense que ça aurait très utile de
                > faire une démonstration de comment bien utiliser les DevTools (sur Firefox
                > c'est mieux conçu je trouve). C'est très utile pour debugger du CSS en voyant
                > les zones des blocs, le bouton "Pick an element", de pouvoir éditer et tester
                > des attributs CSS très rapidement, l'édition d'attributs HTML au double-clic,
                > ... Pour les étudiants avec des bases, j'aurai aimé discuter/avoir des
                > stratégies ou explications pour certains choix stratégiques pour approcher des
                > problèmes courants en CSS. 
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                > Par ex: "voici 3 manières de mettre un bloc à
                > droite, voici en quoi elles diffèrent". C'est bien d'avoir pu jouer et
                > apprendre un peu les possibilités de Flexbox mais après en pratique la
                > question vient de "quand cela est applicable ou pas ?", "quand faut-il plutôt
                > choisir grid", "quelles stratégies faut-il vraiment éviter, genre
                > float:right". Moi ça m'intéressait beaucoup d'échanger des conseils ou bonnes
                > pratiques parce que je fais probablement beaucoup de choses de manière un peu
                > artisanale pour l'instant.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                > La manière dont est donnée le cours:
                >
                > 1. Le cours est donné de manière décousue. Je ne sais pas ce que l'on va
                >    aborder et dans quel ordre. Vous allez en avant - en arrière dans les
                >    slides, je me perd complètement. Vous donnez des additions (elles sont très
                >    bienvenues), mais ces additions sont placées au milieu de thèmes qui n'ont
                >    rien à voir.
                > 2. Vous sautez ou "rushez" des slides. Dans le cours du 12 mars, vous avez
                >    complètement skippé le chapitre sur les prototypes. C'est dommage, je vais
                >    devoir relire le cours à la maison... Beaucoup de slides sont passées
                >    extr^ement vite, je n'ai pas le temps d'assimiler ce qu'il y a sur la slide
                >    qu'elle est deja passée.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                > 3. Vous n'expliquez pas par oral le contenu des slides, vous résumez beaucoup.
                >    C'est dommage, car ça m'oblige de tout relire à la maison parce que j'ai
                >    peur d'oublier des choses
                > 4. Je ne sais pas ce qui est important et ce qui est accessoire. ça me
                >    permettrait de mettre plus d'énergie lors des révisions sur les choses
                >    importantes et moins sur les choses accessoire. Du coup, je vais devoir
                >    tout apprendre avec le m^eme niveau de priorité, m^eme les sujets qui ne
                >    seront pas évalués.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                > La manière dont est donnée le cours:
                >
                > Conséquences:
                >
                > Je ne sens pas le besoin de venir en cours car tout est dans les slides, et
                > une bonne partie de ces dernières sont skippées... Je peux lire tout ça chez
                > moi. Malheureusement, (je ne veut pas etre méchant, je vous apprécie beaucoup)
                > vous n'apportez pas de plus value au cours, et malheureusement, m^eme une
                > "moins-value", car vous rushez le cours lors de votre présentation, ce qui
                > m'oblige à revoir la matière dans un second temps.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                >
                > Je comprend: Ce n'est pas votre support de cours, vous l'auriez probablement
                > fait autrement.
                >
                > Cependant: J'ai vraiment l'impression que vous découvrez le contenu du cours
                > au moment ou vous donnez le cours et c'est dommage.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                > Je propose: 
                > 
                > 0. Structurez la manière dont vous donnez votre cours: Je voudrais
                > comprendre les sujets que nous allons aborder pour se faire une idée de
                > l'ordre dans lesquel nous allons aborder quels éléments. Récapitulez en fin de
                > chapitre, revenez sur les éléments que nous avons abordés ensemble, et
                > profitez de demander si on a des questions.
                >
                > 1. Posez des questions lors de vos cours: ça nous oblige de garder notre
                >    attention. Si personne ne veut répondre, c'est pas grave, indterrogez des
                >    gens au hasard.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                >
                > 2. Demandez régulièrement si nous avons compris un sujet / une thématique.
                >
                > 3. Indiquez nous ce qui est important et ce qui l'est moins.
                >
                > 4. Lachez votre laptop, mettez-vous au centre, utilisez une télécommande pour
                >    passer les slides et pour pointer au tableau: ça renforce votre présence en
                >    vous mettant en avant, devant la classe, ça nous rend plus attentifs et
                >    impliqués.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai moins apprécié et je propose: 
                
                - (suite), du moins en ce qui concerne la partie HTML/CSS, ou alors en partant
                du principe que les personnes allaient s'auto-former de leur côté en dehors du
                cours. De plus il y a souvent des mentions de bonnes pratiques sans jamais les
                avoir mentionnées clairement (utilisation de position relative vs
                flexbox/grid, intérêt des différentes balises HTML, etc.).
                - La théorie est vue presque trop rapidement, surtout si on n'a pas ou peu de
                connaissance
                - Je propose donc de laisser plus de temps en classe pour s'exercer et faire
                plus de pratique une fois la théorie vu en classe.

                Aller un peu moins vite pendant la théorie.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### J'ai particulièrement apprécié :
                
                
                > le fait d'avoir des petits bouts de théorie sans faire 1h30 de théorie de
                > suite.

                > Au delà de ça, vous êtes un prof agréable et vous (prof et assistant) êtes
                > très aidants pour les TPs.

                > Vous avez une personnalité appréciable et tout ce qu'il faut pour me donner
                > envie de suivre votre cours

                > Le fait d'être assez libre dans notre gestion du temps

                > Le temps pour le labo était bien
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                > le cours et sinon très bien.

                > Beaucoup de pratiques avec des exemples et documentation complète

                > Vous prenez les avis / commentaires / questions / propositions de manière très
                > ouverte, ce qui est génial! Je sens que vous êtes impliqué dans ce ue vous
                > faites.

                > J'aime bien avoir la théorie le matin et le labo l'après-midi car cela me
                > permet de rentrer chez moi l'après-midi et de travailler plus confortablement
                > le labo sur un setup bien plus confortable.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                > Les petits jeux pour apprendre le CSS et le JS, c'est une manière sympa de
                > découvrir/entraîner de nouveaux concepts visuellement. C'est motivant
                > d'apprendre le CSS avec le jeu des grenouilles plutôt que de voir chaque
                > propriété et sa définition. Le fait d'avoir des tests automatisés pour valider
                > notre labo ! Le cours sous licence libre :) Faire 2/3 tiers de temps de labo
                > au total, comme on peut avoir de l'aide, c'est un bon moyen de pouvoir
                > pratiquer le HTML et CSS sur ces 2 premiers labos.
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### Le cours est :

                - Trop théorique
                - Adapté 4x
                - Trop pratique
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                ### Le rythme du cours est

                - Trop rapide 4x
                - Adapté 3x
            </textarea>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                    ### J'ai l'impression d'avoir appris des éléments qui me seront utiles dans ma formation et pour mon futur
    
                    - Plutôt oui 4x
                    - Plutôt non 2x
                    - Oui 1x
                </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                    ### Autres remarques et commentaires
    
                    - Je suis désolé pour le long pavé de choses négatives, je n'ai aucune envie
                    d'être blessant, mais constructif et honnête
    
                    - En résumé: Votre personnalité et vos qualités me donnent envie de venir voir
                    votre cours La manière dont le cours est donné me donne envie de rester à la
                    maison.
    
                    - Le fait d'apprendre plein de chose en CSS et un peu en JS, alors que j'en fais
                    depuis quelques années, en se poussant en dehors de sa zone de confort de ce
                    qu'on a l'habitude. De voir que les labos sont améliorés avec nos inputs.
    
                    - Je pense que le cours est adapté pour la majorité des gens mais il vrai que
                    pour quelqu'un qui n'a jamais fait de web dans sa vie, le rythme est trop rapide.
                </textarea
            >
          </section>
        </section>

        <section>
          <section data-background="#333333">
            <h2><i class="fas fa-question-circle"></i> Quiz</h2>
            <h3>Object Oriented Javascript and more</h3>
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 1
                            
                            Quelle est la valeur imprimée par le programme suivant?

                            ```js
                            var obj = {
                                "1": "one"
                            }
                            console.log(obj[1]);
                            ```

                            Notes:
                            
                            <div class="spoiler">

                            L'output est `"one"`. En effet, l'objet est créé avec une propriété nommée `1` : Javascript utilise la string comme un nom de propriété. Par la suite, lorsqu'on tente d'accédé à la propriété `1` de type `Number`, Javascript fait une conversion implicite de type pour comparer ce `1` au nom des propriétés de l'objet. L'objet a effectivement une propriété `"1"`, donc l'output est `"one"`.
                                
                            </div>
                            
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>

                            ```js
                            var obj = {
                                "1": "one"
                            }
                            console.log(obj[1]);
                            ```

                            L'output est `"one"`. En effet, l'objet est créé avec une propriété nommée `1` : Javascript utilise la string comme un nom de propriété. Par la suite, lorsqu'on tente d'accédé à la propriété `1` de type `Number`, Javascript fait une conversion implicite de type pour comparer ce `1` au nom des propriétés de l'objet. L'objet a effectivement une propriété `"1"`, donc l'output est `"one"`.
                                
                            
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 2

                            Lequel ou lesquels des types suivants ne sont pas un type primitif (Oui, les majuscules sont justes !)

                            - Symbol
                            - Array
                            - BigInt
                            - Int
                            - Undefined
                            - String
                            
                            Notes:
                            
                            <div class="spoiler">

                            - `Int` n'est pas un type primitif : Javascript représente tous ses nombres, avec ou sans virgule, avec le type `Number`.
                            - `Array` n'est pas un type primitif : c'est une fonction qui crée un objet avec des propriétés spéciales, utilisé pour représenter des tableaux de données. C'est donc un objet.

                            [Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#primitive_values)
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            Null, Undefined, Boolean, Number, BigInt, String, Symbol.


                            - `Int` n'est pas un type primitif : Javascript représente tous ses nombres, avec ou sans virgule, avec le type `Number`.
                            - `Array` n'est pas un type primitif : c'est une fonction qui crée un objet avec des propriétés spéciales, utilisé pour représenter des tableaux de données. C'est donc un objet.
                        
                            [Source](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#primitive_values)
                            </textarea
            >
          </section>
          <!-- <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 3

                            Lorsqu'on parle d'une classe `Apple` qui hérite d'une classe `Fruit`, et ayant chacune une instance `apple` et `fruit`, quelles affirmations sont correctes.

                            `Fruit` possède une propriété `constructor` pointant sur `Fruit` lui-même

                            - Le prototype de `apple` est `Apple`
                            - Le prototype de `Fruit` n'a pas de prototype, seuls les objets ont des prototypes
                            - Le prototype de `apple` est `Fruit`
                            - Le prototype de `apple` est le prototype de `Fruit`
                            - Le prototype de `Apple` est `Fruit`
                            - Le prototype du prototype de `Apple` est le prototype de `Object`
                            - Le prototype de `Fruit` est `Apple`
                            - Aucune des autres réponses
                            
                            Notes:
                            
                            <div class="spoiler">

                            Aucune des réponses n'est correcte. Ce qui s'apparente à une classe (`Apple` et `Fruit`) est ici une fonction qui a vocation à être utilisée comme un constructeur (et donc avec le mot clé `new`), qui a une propriété `prototype` pointant sur le prototype des objets créés par ce constructeur. Ce prototype est un objet comme un autre, dont la propriété prototype pointe sur le prototype du type d'objet hérité. Donc le prototype d'`Apple` pointe sur le prototype de `Fruit`, et celui de `Fruit` sur celui de `Object`.

                            Les instances de `Apple` et `Fruit` sont des objets comme les autres, et leur propriété prototype pointe sur le prototype de la classe qui les a construits.

                            Veillez à bien comprendre la différence *sémantique* entre les objets qui sont des instances, les objets qui sont des constructeurs/classes, et ceux qui sont des prototypes.
                                
                            </div>
                        </textarea
            >
          </section> -->
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 4

                            Qu'affiche le code suivant ?

                            ```js
                            function doTwice(f) {
                                f()
                                f()
                            }

                            let human = {
                                age: 32,
                                getOlder() {
                                    this.age++
                                }
                            }

                            doTwice(human.getOlder)

                            console.log(human.age)
                            ```
                            
                            - 32
                            - 33
                            - 34
                            - Une erreur est lancée
                            - Aucune des autres réponses
                            
                            Notes:
                            
                            <div class="spoiler">

                            Une erreur est lancée. En effet, la fonction `getOlder` n'est pas appelée comme une méthode (c'est à dire avec la notation `.`). Similairement aux constructeurs, qui sont de simples fonctions s'ils ne sont pas appelés avec `new`, une méthode n'est qu'une fonction si elle n'est pas appelée avec sur un objet. Ici, la fonction `getOlder` est appelée comme une fonction, et donc `this` n'est pas défini dans son corps.
                            
                            [MDN Operators this](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Operators/this)

                            </div>
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            # <i class="fas fa-question-circle"></i> Question 4
                            Suite
                            
                            ```js
                            function doTwice(f) {
                                f.call(this); // bind this to the current context
                                f.call(this); // bind this to the current context
                            }
                            
                            let human = {
                                age: 32,
                                getOlder() {
                                    this.age++;
                                }
                            }
                            
                            doTwice.call(human, human.getOlder); // bind this to human
                            
                            console.log(human.age); // Output will be 34
                            
                            ```
                            </div>
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            # <i class="fas fa-question-circle"></i> Question 4
                            Suite (suite)
                            
                            ```js
                            class Human {
                                constructor(age) {
                                    this.age = age;
                                }
                            
                                getOlder() {
                                    this.age++;
                                }
                            }
                            
                            function doTwice(f) {
                                f.call(this); // bind this to the current context
                                f.call(this); // bind this to the current context
                            }
                            
                            let person = new Human(32);
                            
                            doTwice.call(person, person.getOlder); // bind this to person
                            
                            console.log(person.age); // Output will be 34
                            ```
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 5
                            
                            Qu'affiche le code suivant ?

                            ```js
                            let person = {
                                name: "John"
                            };
                            let student = {
                                studentId: 42
                            };
                            Object.assign(person, student);
                            student.studentId = 43;

                            console.log(person.studentId);
                            ```

                            - 42
                            - 43
                            - undefined
                            - Une erreur est lancée
                            - Aucune des réponses ci-dessus

                            La méthode `Object.assign()` est utilisée afin de copier les valeurs de toutes les propriétés directes (non héritées) d'un objet qui sont énumérables sur un autre objet cible. Cette méthode renvoie l'objet cible. [Source](https://developer.mozilla.org/fr/docs/Web/JavaScript/Reference/Global_Objects/Object/assign)
                            
                            Notes:
                            
                            <div class="spoiler">

                            L'output est `42`. En effet, `Object.assign` copie les propriétés de `student` dans `person`, mais ne crée pas de lien entre les deux objets. Donc lorsque la propriété `studentId` de `student` est modifiée, cela n'a aucun impact sur `person`.
                                
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 5
                            
                            Qu'affiche le code suivant ?

                            ```js
                            let person = {
                                name: "John"
                            };
                            let student = {
                                studentId: 42
                            };
                            Object.assign(person, student);
                            student.studentId = 43;

                            console.log(person.studentId);
                            ```

                            L'output est `42`. En effet, `Object.assign` copie les propriétés de `student` dans `person`, mais ne crée pas de lien entre les deux objets. Donc lorsque la propriété `studentId` de `student` est modifiée, cela n'a aucun impact sur `person`.
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 6

                            Quelle est la valeur imprimée par le programme suivant?

                            ```js
                            var age = 20;
                            var student = {
                                age: 25,
                                getAge: function() {
                                    return this.age;
                                }
                            };
                            var anotherStudent = {
                                age: 30,
                                getAge: function() {
                                    return this.age;
                                }
                            };
                            console.log(student.getAge.apply(anotherStudent))
                            ```

                            - 20
                            - 25
                            - 30
                            - undefined
                            - Une erreur se produit car `getAge`, qui est une fonction, n'a pas de méthode `apply`.
                            - Aucune des autres réponses
                            
                            Notes:
                            
                            <div class="spoiler">

                            L'output est `30`. En effet, `apply` permet d'appeler une fonction en spécifiant le contexte dans lequel elle est appelée. Ici, `student.getAge` est appelée avec `anotherStudent` comme contexte, donc `this` dans le corps de la fonction `getAge` pointe sur `anotherStudent`, et donc `this.age` vaut `30`.
                            
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 6

                            Quelle est la valeur imprimée par le programme suivant?

                            ```js
                            var age = 20;
                            var student = {
                                age: 25,
                                getAge: function() {
                                    return this.age;
                                }
                            };
                            var anotherStudent = {
                                age: 30,
                                getAge: function() {
                                    return this.age;
                                }
                            };
                            console.log(student.getAge.apply(anotherStudent))
                            ```

                            L'output est `30`. En effet, `apply` permet d'appeler une fonction en spécifiant le contexte dans lequel elle est appelée. Ici, `student.getAge` est appelée avec `anotherStudent` comme contexte, donc `this` dans le corps de la fonction `getAge` pointe sur `anotherStudent`, et donc `this.age` vaut `30`.
                            
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 7

                            Que se passe-t-il lorsque l'on ajoute une fonction au prototype d'une classe de la librairie standard?

                            ```js
                            let d = new Date();

                            Date.prototype.myFormat = function() {
                                return "The day is " + this.toLocaleDateString('en-us', { year:"numeric", month:"short"})
                            }

                            console.log(d.myFormat())
                            ```
                            
                            - La fonction est copiée instantanément dans toutes les instances existantes de la classe
                            - Une erreur a lieu car seules les instances futures de la classe hériteront la fonction
                            - Cela est interdit
                            - Aucune réponse correcte
                            
                            Notes:
                            
                            <div class="spoiler">

                            Cette action est parfaitement valide. Puisque toutes les instances de `Date` ont une propriété prototype qui pointe sur le prototype de `Date`, toute propriété définie sur le prototype, même après la création d'une instance, sera visible par celle-ci. Donc la fonction `myFormat` est bien visible par l'instance `d` de `Date`. En revanche, aucune réponse proposée n'est correcte, puisque la fonction n'est pas copiée dans les instances existantes, et qu'aucune erreur n'a lieu.

                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 7

                            Que se passe-t-il lorsque l'on ajoute une fonction au prototype d'une classe de la librairie standard?

                            ```js
                            let d = new Date();

                            Date.prototype.myFormat = function() {
                                return "The day is " + this.toLocaleDateString('en-us', { year:"numeric", month:"short"})
                            }

                            console.log(d.myFormat())
                            ```

                            Cette action est parfaitement valide. Puisque toutes les instances de `Date` ont une propriété prototype qui pointe sur le prototype de `Date`, toute propriété définie sur le prototype, même après la création d'une instance, sera visible par celle-ci. Donc la fonction `myFormat` est bien visible par l'instance `d` de `Date`. En revanche, aucune réponse proposée n'est correcte, puisque la fonction n'est pas copiée dans les instances existantes, et qu'aucune erreur n'a lieu.

                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.7em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 8

                            Quelle est la valeur imprimée par le programme suivant?

                            ```js[]
                            var arr = [];
                            arr[0] = "zéro";
                            arr[2] = "deux";
                            arr[4] = "quatre";
                            for (var val in arr) {
                                console.log(val)
                            }
                            ```
                            
                            - 0 2 4
                            - 0 null 2 null 4
                            - 0 undefined 2 undefined 4
                            - 0 1 2 3 4
                            - 0 1 2 3 4 length
                            - zéro deux quatre
                            - zéro undefined deux undefined 4
                            - zéro null deux null quatre
                            - Le code crée une out-of-bounds exception à la ligne 3
                            - Aucune autre réponse correcte
                                                    
                            Notes:
                            
                            <div class="spoiler">

                            L'output est `0 2 4`. En effet, les tableaux en Javascript sont des objets, et les indices sont des propriétés de l'objet. Donc `arr[0]` est équivalent à créer une propriété appelée `"1"` sur l'objet `arr`, et similairement avec `2` et `4`. La boucle `for ... in` itère sur les propriétés de l'objet, donc les indices `0`, `2` et `4` sont imprimés.
                                
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.7em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 8

                            Quelle est la valeur imprimée par le programme suivant?

                            ```js[]
                            var arr = [];
                            arr[0] = "zéro";
                            arr[2] = "deux";
                            arr[4] = "quatre";
                            for (var val in arr) {
                                console.log(val)
                            }
                            ```
                        

                            L'output est `0 2 4`. En effet, les tableaux en Javascript sont des objets, et les indices sont des propriétés de l'objet. Donc `arr[0]` est équivalent à créer une propriété appelée `"1"` sur l'objet `arr`, et similairement avec `2` et `4`. La boucle `for ... in` itère sur les propriétés de l'objet, donc les indices `0`, `2` et `4` sont imprimés.
                                
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 9

                            Quelle est la valeur imprimée par le programme suivant?

                            ```js
                            var age = 20;
                            function Student(age) {
                                this.age = age
                                return {
                                    age: 25
                                }
                            }
                            var student = new Student(30);
                            console.log(student.age)
                            ```

                            - 20
                            - 25
                            - 30
                            - undefined
                            - Aucune des autres réponses
                            
                            Notes:
                            
                            <div class="spoiler">

                            L'output est `25`. En effet, le mot clé `new` crée un objet, et appelle la fonction `Student` avec ce nouvel objet comme contexte. La fonction `Student` crée une propriété `age` sur cet objet, mais retourne un autre objet. Si un constructeur ne retourne rien, c'est l'objet associé à son `this` qui sera retourné comme objet créé, mais si le constructeur retourne un objet, c'est celui-ci qui sera retourné. Donc l'output est `25`, puisque c'est la valeur de la propriété `age` de l'objet retourné par `Student`.
                                
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 9

                            Quelle est la valeur imprimée par le programme suivant?

                            ```js
                            var age = 20;
                            function Student(age) {
                                this.age = age
                                return {
                                    age: 25
                                }
                            }
                            var student = new Student(30);
                            console.log(student.age)
                            ```

                            L'output est `25`. En effet, le mot clé `new` crée un objet, et appelle la fonction `Student` avec ce nouvel objet comme contexte. La fonction `Student` crée une propriété `age` sur cet objet, mais retourne un autre objet. Si un constructeur ne retourne rien, c'est l'objet associé à son `this` qui sera retourné comme objet créé, mais si le constructeur retourne un objet, c'est celui-ci qui sera retourné. Donc l'output est `25`, puisque c'est la valeur de la propriété `age` de l'objet retourné par `Student`.
                                
                        </textarea
            >
          </section>
          <!-- <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 10

                            En quelques mots, pourquoi est-il plus judicieux de définir les méthodes sur le prototype de l'objet plutot que sur l'objet lui-même.
                            
                            Notes:
                            
                            <div class="spoiler">

                            En définissant les méthodes sur le prototype, on s'assure que toutes les instances de l'objet auront accès à la même fonction, et donc que la fonction ne sera pas dupliquée pour chaque instance. Cela permet d'économiser de la mémoire, et de s'assurer que toutes les instances auront accès à la même version de la fonction, même si celle-ci est modifiée après la création des instances.

                            Une autre raison est que si on définit la fonction sur l'objet lui-même, on ne peut pas utiliser le mot clé `this` dans le corps de la fonction, puisque `this` pointera sur l'objet lui-même, et non sur l'instance de l'objet sur laquelle la fonction est appelée. Donc on ne peut pas utiliser `this` pour accéder aux propriétés de l'instance, qui seraient, elles, définies sur l'instance.
                                
                            </div>
                        </textarea
            >
          </section> -->
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 11

                            Implémenter quelque chose de ressemblant à ce qui suit.
                            
                            <img src="http://github.com/OlivierLmr/hoster/blob/main/web-test-dummy-web.gif?raw=true" alt="gif of what should be recreated">

                            Les items doivent être des balises `<li>` avec un attribut nommé `hair` dont la valeur correspond à la couleur de cheveux de chaque personne dans la liste. Cliquer sur les boutons highlight les personnes aux cheveux de couleur correspondante.
                            
                            [Start](https://web-classroom.github.io/heig-vd-web-course/docs/99-examples/hairDomSelect.html) · [Solution](https://web-classroom.github.io/heig-vd-web-course/docs/99-examples/hairDomSelectSolution.html)

                            Notes:
                            
                            <div class="spoiler">

                            ```html
                            <!DOCTYPE html>
                            <html>
                            <body>

                                <ul id="people_list">
                                    <li hair="brown">Jessie</li>
                                    <li hair="blonde">Blake</li>
                                    <li hair="brown">Charlie</li>
                                    <li hair="gray">Parker</li>
                                </ul>

                                <div id="metadata">
                                    <button class="brown" onclick="show('brown')">
                                        Brown hair
                                    </button>
                                    <button class="blonde" onclick="show('blonde')">
                                        Blonde hair
                                    </button>
                                    <button class="reset" onclick="reset()">
                                        Reset
                                    </button>
                                </div>

                            </body>
                            </html>
                            ```

                            CSS
                            ```css
                            html {
                                padding: 10px;
                                --button-background: #eef;
                                --button-hover-background: #dde;
                                --highlighted-li-background: #ffa
                            }
                            
                            #people_list {
                                display: flex;
                                flex-direction: column;
                                gap: 10px;
                                padding: 0;
                            }
                            
                            li {
                                list-style: none;
                                padding: 10px;
                                background: whitesmoke;
                                border-radius: 5px;
                            }
                            
                            #metadata {
                                display: grid;
                                grid-template-columns: 1fr 1fr 1fr;
                                gap: 10px;
                            }
                            
                            button {
                                border: none;
                                padding: 10px;
                                border-radius: 5px;
                                cursor: pointer;
                                background: var(--button-background)
                            }
                            
                            button:hover {
                                background: var(--button-hover-background)
                            }
                            
                            .selected {
                                background: var(--highlighted-li-background)
                            }
                            ```

                            JS

                            ```js
                            function show(color) {
                                reset()
                                elements = document.querySelectorAll(`li[hair="${color}"]`)
                                elements.forEach((e) => {
                                    e.classList.add("selected")
                                })
                            }
                            
                            function reset() {
                                elements = document.querySelectorAll(`li`)
                                elements.forEach((e) => {
                                    e.classList.remove("selected")
                                })
                            }
                            ```
                            
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 12
                            
                            Modifiez le code suivant pour qu'il n'utilise plus la syntaxe de classes mais garde les mêmes fonctionnalités. En particulier, l'age ne doit pas être une valeur publique de l'objet.
                            
                            ```js
                            class Human {
                                #age
                            
                                constructor(age) {
                                    this.#age = age
                                }
                            
                                getAge() {
                                    return this.#age
                                }
                            
                                getOlder() {
                                    this.#age++
                                }
                            }
                            ```
                            
                            Notes:
                            
                            <div class="spoiler">

                            ```js
                            function Human(age) {
                                let priv_age = age
                                
                                this.getAge = function() {
                                    return priv_age
                                }

                                this.getOlder = function() {
                                    priv_age++
                                }
                            }
                            ```
                                
                            </div>
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Question 12 (solution)
                            ```js
                            function Human(age) {
                                let priv_age = age
                                
                                this.getAge = function() {
                                    return priv_age
                                }

                                this.getOlder = function() {
                                    priv_age++
                                }
                            }
                            ```
                        </textarea
            >
          </section>
        </section>

        <!-- <section>
                    <section data-background="#333333">
                        <h2><i class="fab fa-js"></i> Corrections</h2>
                    </section>
                    <section data-markdown style="font-size: 0.75em;">
                        <textarea data-template>
                            <img src="images/tetris-1-illustration.png" style="height: 100%" />
                        </textarea>
                    </section>
                </section> -->

        <section>
          <section data-background="#333333">
            <h2><i class="fab fa-js"></i> Testing JavaScript Applications</h2>
          </section>
          <section
            data-visibility="hidden"
            data-markdown
            style="font-size: 0.8em; text-align: center"
          >
            <textarea data-template>
                            <img src="images/good_code.png" style="width: 30%;" />
                            
                            https://xkcd.com/844/
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ##  <i class="fas fa-question-circle"></i> How to write good code?
                            
                            *If you haven't tested it, assume it is broken!*

                            But from where should I start?

                            Recall the cornerstones of computational thinking:
                            - Decomposition
                            - Data Representation / Pattern recognition
                            - Generalization / Abstraction
                            - Algorithm

                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            *The whole is greater than the sum of its parts.* 
                            **Aristotle**
                            <img src="images/car_disassembly.jpg"  style="width:600px; margin-top: 40px " />
                        </textarea
            >
          </section>
          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ##  <i class="fas fa-check-square"></i> Test automation

                            In software testing, test automation is the use of a software separate from the software being tested to control the execution of tests and the comparison of actual outcomes with predicted outcomes.

                            https://en.wikipedia.org/wiki/Test_automation

                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em; text-align: center">
            <textarea data-template>
                            ##  <i class="fas fa-file-code"></i> Grab the code
                            
                            https://github.com/web-classroom/test-automation
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em; text-align: center">
            <textarea data-template>
                            ##  <i class="fas fa-check-square"></i> Types of tests

                            <img src="images/tests.png"  style="width:60%;" />


                            Notes:

                            - **Unit tests**: Test a **separable unit of software** for correctness, independently of the larger software System. That unit is usually the smallest testable part of an application, and has a single and clear responsibility.
                            - **Integration tests**: Individual units of software that pass unit tests are **assembled together into components**. Integration tests ensure that the components made of different parts work correctly together. The units are considered correct, and the goal is to test that the interaction between them is correct for what we want the component to do.
                            - **System tests**: All the component that pass the integration tests are **assembled together into the system**. System tests verify the **end-to-end functionality** of the system. They are usually **hard to automate** and very expensive to implement and execute.
                            
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ##  <i class="fas fa-cog"></i> Unit tests

                            - Test a **separable unit of software** for correctness, independently of the larger software System
                            - Employed as a **low-level** specification to ensure that a function or module performs as expected
                            - Usually fast to implement and execute
                            - **Example:** *testing that the subscriber's email is valid*

                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ##  <i class="fas fa-cogs"></i> Integration Tests

                            - Individual units of software that pass unit tests are **assembled together into components**
                            - Integration tests ensure that the components made of different parts work well together
                            - Sometimes slow to implement and execute
                            - **Example:** *test that the email was persisted in the subscriber table of the database*

                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ##  <i class="fas fa-car"></i> System Tests

                            - All the component that pass the integration tests are **assembled together into the system**
                            - System tests verify the **end-to-end functionality** of the system
                            - Usually **hard to automate** and very expensive to implement and execute
                            - **Example:** test that the user can subscribe to the mailing list by accessing the server from the chrome browser
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ##  <i class="fas fa-clipboard"></i> Key takeaways

                            - If you haven't tested it, assume it is broken!
                            - Decomposition is the best friend of testable code
                            - When testing, write:
                               - A lot of unit tests
                               - Some integration tests
                               - Few selected system tests
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em; text-align: center">
            <textarea data-template>
                            <img src="images/sre.jpg" />

                            https://landing.google.com/sre/books/ 
                            
                            **Chapter 17:** Testing for Reliability
                        </textarea
            >
          </section>

          <section data-markdown style="font-size: 0.8em">
            <textarea data-template>
                            ## <i class="fas fa-question-circle"></i> Questions
                        </textarea
            >
          </section>
        </section>
      </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/reveal.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/markdown/markdown.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/highlight/highlight.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/reveal.js/4.3.1/plugin/notes/notes.js"></script>
    <script src="./script.js" type="module"></script>
  </body>
</html>
